# Markdown to PDF Converter

A lightweight, script-based pipeline to convert Markdown files to PDF with math formula support (MathJax-style), custom styling, and configurable headers/footers. Uses Node.js for pre-processing and **md-to-pdf** (Puppeteer) for rendering.

**Author:** Giuseppe Bosi

---

## Features

- **Batch conversion:** All `.md` files in the `.md` folder are converted; PDFs are written to the `.pdf` folder.
- **Math formulas:** Inline `$...$` and block `$$...$$` are pre-processed for MathJax-compatible HTML before conversion.
- **Professional styling:** A4 layout, typography, tables, code blocks, and print-friendly CSS via `style.css`.
- **Configurable PDF:** Page format, margins, header/footer (e.g. page numbers, author) via `pdf-options.json`.
- **Portable:** PowerShell script runs from the project root; no global install required beyond Node.js and `npx`.

---

## Project Structure

```
.
├── .md/                    # Input: place your Markdown files here (not in repo)
├── .pdf/                   # Output: generated PDFs (not in repo)
├── convert-md-to-pdf.js    # Pre-processor: math formulas → HTML spans
├── converti_md_pdf_completo.ps1   # Main script (Windows): runs pre-process + md-to-pdf
├── converti_md_pdf_completo.sh    # Main script (Linux/macOS): same workflow
├── style.css               # PDF styling (A4, tables, code, etc.)
├── pdf-options.json        # Puppeteer PDF options (format, margins, footer)
├── package.json            # Project metadata (md-to-pdf via npx)
├── README.md
└── ARCHITECTURE.md         # Pipeline and design notes
```

---

## Requirements

- **Node.js** (LTS recommended)
- **Windows:** PowerShell (or PowerShell Core)
- **Linux/macOS:** Bash
- **npx** (bundled with npm)

No need to install `md-to-pdf` globally; the scripts use `npx --yes md-to-pdf`.

---

## Installation

1. Clone or download the repository.
2. Ensure Node.js and npm are installed: `node -v`, `npm -v`.
3. Create the input/output folders if missing:
   - `.md` — put your Markdown files here.
   - `.pdf` — will be created automatically; generated PDFs go here.

---

## Usage

1. Place your `.md` files in the `.md` folder.
2. From the project root, run:

   **Windows (PowerShell):**
   ```powershell
   .\converti_md_pdf_completo.ps1
   ```

   **Linux / macOS:**
   ```bash
   chmod +x converti_md_pdf_completo.sh   # once, to make executable
   ./converti_md_pdf_completo.sh
   ```

3. For each `.md` file, the script:
   - Pre-processes math formulas (in place).
   - Calls `npx md-to-pdf` with `style.css` and `pdf-options.json`.
   - Moves the generated PDF from `.md/` to `.pdf/` (same base name).

**Windows:** If execution policy blocks the script:
```powershell
Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process -Force
.\converti_md_pdf_completo.ps1
```

---

## Configuration

- **PDF layout and footer:** Edit `pdf-options.json` (format, margins, `headerTemplate`, `footerTemplate`). See [Puppeteer PDF options](https://pptr.dev/api/puppeteer.pdfoptions).
- **Appearance:** Edit `style.css` (page size, fonts, table/code/blockquote styles).
- **Math:** Inline `$formula$` and block `$$formula$$` in the `.md` are converted to `<span class="math-inline">\(...\)</span>` and `<div class="math-block">\[...\]</div>` for MathJax. Ensure your viewer supports MathJax if you need rendered math in HTML; the PDF is generated by Chromium.

---

## License

ISC
